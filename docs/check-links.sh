#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Å—ã–ª–æ–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ .md —Ñ–∞–π–ª—ã –≤ docs/
for file in *.md; do
    if [ -f "$file" ]; then
        echo "üìÑ –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª: $file"
        
        # –ò—â–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ .md —Ñ–∞–π–ª—ã
        grep -o '\[.*\]([^)]*\.md)' "$file" | while read -r link; do
            # –ò–∑–≤–ª–µ–∫–∞–µ–º –ø—É—Ç—å –∏–∑ —Å—Å—ã–ª–∫–∏
            path=$(echo "$link" | sed 's/.*(\([^)]*\))/\1/')
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
            if [ -f "$path" ]; then
                echo "  ‚úÖ $link"
            else
                echo "  ‚ùå $link (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: $path)"
            fi
        done
    fi
done

echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
